<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Resize Image Online - Change Dimensions (Pixels or %) | The Image Toolkit</title>
    <meta name="description" content="Resize JPG, PNG, and WebP images online. Change dimensions by pixels or percentage while maintaining aspect ratio. Bulk image resizer free.">
    <meta name="keywords" content="resize image, photo resizer, change image size, image dimensions, pixel resizer, online image resizer, iloveimg resize">
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7597066031957006" crossorigin="anonymous"></script>

    <style>
        :root {
            --primary: #4F46E5;
            --bg-body: #F3F4F6;
            --text-main: #1F2937;
            --border: #E5E7EB;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background-color: var(--bg-body); color: var(--text-main); display: flex; flex-direction: column; min-height: 100vh; }
        a { text-decoration: none; color: inherit; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }

        /* Header */
        header { background: white; border-bottom: 1px solid var(--border); height: 70px; display: flex; align-items: center; position: sticky; top: 0; z-index: 1000; box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
        .nav-wrapper { display: flex; justify-content: space-between; align-items: center; width: 100%; }
        .logo { font-weight: 700; font-size: 1.5rem; color: var(--primary); display: flex; align-items: center; gap: 8px; }
        
        .nav-links { display: flex; gap: 30px; }
        .nav-links a { font-weight: 500; font-size: 0.95rem; color: var(--text-main); transition: 0.2s; }
        .nav-links a:hover { color: var(--primary); }

        .mobile-toggle { display: none; font-size: 1.5rem; cursor: pointer; color: var(--text-main); }

        /* Ad Wrapper */
        .ad-wrapper { width: 100%; margin: 20px 0; display: flex; justify-content: center; overflow: hidden; min-height: 90px; background: #fff; border: 1px solid #f0f0f0; border-radius: 8px; align-items: center; }

        /* Workspace */
        .workspace { background: #F9FAFB; padding: 2rem 0; min-height: 60vh; }
        .tool-title { text-align: center; margin-bottom: 1.5rem; }
        .tool-title h1 { font-size: 1.8rem; color: #111827; }
        .tool-title p { color: #6B7280; font-size: 1rem; }

        /* Drop Zone */
        .drop-zone {
            background: white; border: 2px dashed #D1D5DB; border-radius: 12px; padding: 3rem 1rem;
            text-align: center; cursor: pointer; transition: 0.2s; max-width: 800px; margin: 0 auto;
        }
        .drop-zone:hover { border-color: var(--primary); background: #EEF2FF; }
        .btn-upload {
            background: var(--primary); color: white; padding: 1rem 2rem; border-radius: 8px;
            font-weight: 600; font-size: 1.1rem; border: none; cursor: pointer; display: inline-flex;
            align-items: center; gap: 10px; margin-bottom: 1rem;
        }

        /* Editor */
        .editor-container {
            display: none; max-width: 1000px; margin: 0 auto; background: white;
            border-radius: 12px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); overflow: hidden;
        }
        .editor-grid { display: grid; grid-template-columns: 2fr 1fr; min-height: 450px; }

        /* Left Panel */
        .file-list-panel { padding: 2rem; border-right: 1px solid var(--border); background: #fff; }
        .file-item {
            display: flex; justify-content: space-between; align-items: center; padding: 12px;
            border: 1px solid var(--border); border-radius: 8px; margin-bottom: 10px;
        }
        .file-meta { display: flex; align-items: center; gap: 10px; }
        .file-icon { font-size: 1.5rem; color: var(--primary); }

        /* Right Panel (Settings) */
        .settings-panel { padding: 2rem; background: #F9FAFB; }
        
        .mode-tabs { display: flex; gap: 5px; margin-bottom: 1.5rem; background: #E5E7EB; padding: 4px; border-radius: 8px; }
        .mode-tab { flex: 1; text-align: center; padding: 8px; cursor: pointer; border-radius: 6px; font-size: 0.9rem; font-weight: 500; transition: 0.2s; }
        .mode-tab.active { background: white; color: var(--primary); box-shadow: 0 1px 2px rgba(0,0,0,0.1); }

        .setting-group { margin-bottom: 1.5rem; }
        .setting-label { font-weight: 600; margin-bottom: 0.5rem; display: block; color: #374151; font-size: 0.9rem; }
        
        .input-row { display: flex; gap: 10px; align-items: center; margin-bottom: 10px; }
        .input-wrap { flex: 1; position: relative; }
        .input-wrap input { width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 6px; padding-right: 30px; }
        .input-unit { position: absolute; right: 10px; top: 50%; transform: translateY(-50%); color: #9CA3AF; font-size: 0.8rem; }
        
        .checkbox-wrap { display: flex; align-items: center; gap: 8px; font-size: 0.9rem; color: #4B5563; cursor: pointer; }
        input[type="checkbox"] { width: 16px; height: 16px; accent-color: var(--primary); }

        .range-wrap { margin-top: 10px; }
        input[type=range] { width: 100%; accent-color: var(--primary); }

        .btn-action { width: 100%; padding: 1rem; background: var(--primary); color: white; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; font-size: 1rem; margin-top: 1rem; }
        .btn-action:disabled { background: #9CA3AF; cursor: not-allowed; }

        /* Content & Footer */
        .content-section { background: white; padding: 4rem 0; border-top: 1px solid var(--border); }
        .sidebar-box { border: 1px solid var(--border); border-radius: 8px; padding: 1.5rem; }
        footer { background: #111827; color: #9CA3AF; padding: 2rem 0; margin-top: auto; text-align: center; }

        @media (max-width: 768px) {
            .mobile-toggle { display: block; }
            .nav-links { display: none; flex-direction: column; position: absolute; top: 70px; left: 0; width: 100%; background: white; padding: 1rem; border-bottom: 1px solid var(--border); box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
            .nav-links.active { display: flex; }
            .nav-links a { padding: 10px 0; border-bottom: 1px solid #f3f4f6; width: 100%; text-align: center; }
            
            .editor-grid { grid-template-columns: 1fr; }
            .file-list-panel { border-right: none; border-bottom: 1px solid var(--border); }
        }
    </style>
</head>
<body>

    <header>
        <div class="container nav-wrapper">
            <a href="index.html" class="logo">
                <i class="fas fa-layer-group"></i> The Image Toolkit
            </a>
            
            <div class="mobile-toggle" onclick="toggleMenu()"><i class="fas fa-bars"></i></div>

            <nav class="nav-links" id="navLinks">
                <a href="index.html">Home</a>
                <a href="index.html#tools">All Tools</a>
                <a href="about.html">About</a>
                <a href="index.html#guides">Guides</a>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="ad-wrapper">
            <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7597066031957006" data-ad-slot="5194353053" data-ad-format="auto" data-full-width-responsive="true"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
        </div>
    </div>

    <section class="workspace">
        <div class="container">
            <div class="tool-title" id="toolTitle">
                <h1>Resize Image</h1>
                <p>Resize JPG, PNG, or GIF by defining new height and width pixels or percentage.</p>
            </div>

            <div class="drop-zone" id="dropZone" onclick="document.getElementById('fileInput').click()">
                <input type="file" id="fileInput" multiple accept="image/*" style="display:none">
                <div style="font-size: 3rem; color: #E5E7EB; margin-bottom: 1rem;"><i class="fas fa-expand"></i></div>
                <button class="btn-upload">Select Images</button>
                <p>or drop images here</p>
            </div>

            <div class="editor-container" id="editorContainer">
                <div class="editor-grid">
                    <div class="file-list-panel">
                        <h3 style="margin-bottom: 1rem;">Images to Resize</h3>
                        <div id="fileList"></div>
                    </div>

                    <div class="settings-panel">
                        <h3 style="margin-bottom: 1.5rem;">Resize Options</h3>

                        <div class="mode-tabs">
                            <div class="mode-tab active" onclick="setMode('pixels')">By Pixels</div>
                            <div class="mode-tab" onclick="setMode('percentage')">By Percentage</div>
                        </div>

                        <div id="pixelsMode">
                            <div class="setting-group">
                                <div class="input-row">
                                    <div class="input-wrap">
                                        <label class="setting-label">Width</label>
                                        <input type="number" id="inputWidth" placeholder="Width">
                                        <span class="input-unit">px</span>
                                    </div>
                                    <div class="input-wrap">
                                        <label class="setting-label">Height</label>
                                        <input type="number" id="inputHeight" placeholder="Height">
                                        <span class="input-unit">px</span>
                                    </div>
                                </div>
                                <label class="checkbox-wrap">
                                    <input type="checkbox" id="checkRatio" checked> Maintain Aspect Ratio
                                </label>
                            </div>
                        </div>

                        <div id="percentageMode" style="display: none;">
                            <div class="setting-group">
                                <label class="setting-label">Reduce by Percentage: <span id="percentVal">50</span>%</label>
                                <div class="range-wrap">
                                    <input type="range" id="percentRange" min="1" max="99" value="50">
                                </div>
                                <div style="display:flex; justify-content:space-between; margin-top:10px; font-size:0.8rem; color:#6B7280;">
                                    <span>Small</span>
                                    <span>Original</span>
                                </div>
                            </div>
                        </div>

                        <button class="btn-action" id="processBtn">Resize Images</button>
                        <div id="statusMsg" style="margin-top: 10px; text-align: center; font-size: 0.9rem; font-weight: 500;"></div>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <div class="container">
        <div class="ad-wrapper">
            <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7597066031957006" data-ad-slot="4383834265" data-ad-format="auto" data-full-width-responsive="true"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
        </div>
    </div>

    <section class="content-section">
        <div class="container" style="display: grid; grid-template-columns: 2fr 1fr; gap: 3rem;">
            <div>
                <h2 style="margin-bottom: 1rem;">Resize Images Online</h2>
                <p>The Image Toolkit allows you to resize pictures for free in seconds. Whether you need to reduce dimensions for social media headers, website optimization, or email attachments, our tool handles it efficiently.</p>
                
                <h3 style="margin-top: 1.5rem; margin-bottom: 0.5rem;">Features</h3>
                <ul style="padding-left: 20px; line-height: 1.8; color: #4B5563;">
                    <li><strong>Pixel Perfect:</strong> Enter exact width and height dimensions.</li>
                    <li><strong>Aspect Ratio Lock:</strong> Automatically calculate height when you change width to prevent distortion.</li>
                    <li><strong>Percentage Scaling:</strong> Quickly reduce image size by 25%, 50%, or 75%.</li>
                    <li><strong>Secure:</strong> All processing happens in your browser. No data leaves your device.</li>
                </ul>
            </div>
            
            <aside>
                <div class="sidebar-box">
                    <h4 style="margin-bottom: 1rem;">Sponsored</h4>
                    <div style="min-height: 250px;">
                        <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7597066031957006" data-ad-slot="7424930571" data-ad-format="auto" data-full-width-responsive="true"></ins>
                        <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
                    </div>
                </div>
            </aside>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="ad-wrapper" style="background: rgba(255,255,255,0.05); border: none;">
                <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7597066031957006" data-ad-slot="7424930571" data-ad-format="auto" data-full-width-responsive="true"></ins>
                <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
            </div>
            <div class="copyright">&copy; 2025 The Image Toolkit. All rights reserved.</div>
        </div>
    </footer>

    <script>
        // --- Mobile Menu Toggle ---
        function toggleMenu() {
            document.getElementById('navLinks').classList.toggle('active');
        }

        // --- Tool Logic ---
        const dropZone = document.getElementById('dropZone');
        const fileInput = document.getElementById('fileInput');
        const editorContainer = document.getElementById('editorContainer');
        const fileListEl = document.getElementById('fileList');
        const toolTitle = document.getElementById('toolTitle');
        const inputWidth = document.getElementById('inputWidth');
        const inputHeight = document.getElementById('inputHeight');
        const checkRatio = document.getElementById('checkRatio');
        const processBtn = document.getElementById('processBtn');
        const statusMsg = document.getElementById('statusMsg');
        
        let filesData = [];
        let currentMode = 'pixels'; // 'pixels' or 'percentage'
        let originalRatio = 0; // Ratio of the FIRST image (used for reference)

        // Toggle Modes
        function setMode(mode) {
            currentMode = mode;
            document.querySelectorAll('.mode-tab').forEach(t => t.classList.remove('active'));
            if(mode === 'pixels') {
                document.querySelectorAll('.mode-tab')[0].classList.add('active');
                document.getElementById('pixelsMode').style.display = 'block';
                document.getElementById('percentageMode').style.display = 'none';
            } else {
                document.querySelectorAll('.mode-tab')[1].classList.add('active');
                document.getElementById('pixelsMode').style.display = 'none';
                document.getElementById('percentageMode').style.display = 'block';
            }
        }

        // Percentage Slider Logic
        const percentRange = document.getElementById('percentRange');
        const percentVal = document.getElementById('percentVal');
        percentRange.addEventListener('input', (e) => percentVal.textContent = e.target.value);

        // Aspect Ratio Logic
        inputWidth.addEventListener('input', () => {
            if(checkRatio.checked && originalRatio > 0 && inputWidth.value) {
                inputHeight.value = Math.round(inputWidth.value / originalRatio);
            }
        });

        inputHeight.addEventListener('input', () => {
            if(checkRatio.checked && originalRatio > 0 && inputHeight.value) {
                inputWidth.value = Math.round(inputHeight.value * originalRatio);
            }
        });

        // Upload Handlers
        dropZone.addEventListener('dragover', (e) => { e.preventDefault(); dropZone.style.borderColor = 'var(--primary)'; });
        dropZone.addEventListener('dragleave', () => dropZone.style.borderColor = '#D1D5DB');
        dropZone.addEventListener('drop', (e) => { e.preventDefault(); handleFiles(e.dataTransfer.files); });
        fileInput.addEventListener('change', (e) => handleFiles(e.target.files));

        function handleFiles(files) {
            if (files.length === 0) return;
            filesData = Array.from(files);

            // Hide Upload, Show Editor
            dropZone.style.display = 'none';
            toolTitle.style.display = 'none';
            editorContainer.style.display = 'block';

            // Get dimensions of first image for ratio calculation
            const img = new Image();
            img.src = URL.createObjectURL(filesData[0]);
            img.onload = () => {
                originalRatio = img.width / img.height;
                inputWidth.value = img.width;
                inputHeight.value = img.height;
                URL.revokeObjectURL(img.src);
            };

            renderFileList();
        }

        function renderFileList() {
            fileListEl.innerHTML = '';
            filesData.forEach((file, index) => {
                const div = document.createElement('div');
                div.className = 'file-item';
                div.innerHTML = `
                    <div class="file-meta">
                        <i class="fas fa-image file-icon"></i>
                        <div>
                            <div style="font-weight:500;">${file.name.substring(0, 20)}...</div>
                            <div style="font-size:0.8rem; color:#6B7280;">${(file.size/1024).toFixed(1)} KB</div>
                        </div>
                    </div>
                    <div id="res-${index}" style="font-size:0.8rem; font-weight:600; color:var(--text-light);">Pending</div>
                `;
                fileListEl.appendChild(div);
            });
        }

        // --- Processing Logic ---
        processBtn.addEventListener('click', async () => {
            processBtn.disabled = true;
            processBtn.textContent = "Resizing...";
            const zip = new JSZip();
            let processed = 0;

            for (let i = 0; i < filesData.length; i++) {
                const file = filesData[i];
                const resEl = document.getElementById(`res-${i}`);
                
                try {
                    let blob = await resizeImage(file);
                    zip.file(`resized_${file.name}`, blob);
                    resEl.innerHTML = '<span style="color:#10B981">Done</span>';
                    processed++;
                } catch (e) {
                    console.error(e);
                    resEl.innerHTML = '<span style="color:red">Error</span>';
                }
            }

            // Download
            statusMsg.textContent = "Generating Download...";
            if (processed === 1) {
                const content = await zip.file(Object.keys(zip.files)[0]).async("blob");
                saveAs(content, Object.keys(zip.files)[0]);
            } else if (processed > 1) {
                const content = await zip.generateAsync({type:"blob"});
                saveAs(content, "TheImageToolkit_resized.zip");
            }

            processBtn.disabled = false;
            processBtn.textContent = "Resize Images";
            statusMsg.textContent = "Download Started!";
        });

        function resizeImage(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = (e) => {
                    const img = new Image();
                    img.src = e.target.result;
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        const ctx = canvas.getContext('2d');
                        
                        let targetW, targetH;

                        if (currentMode === 'percentage') {
                            const pct = parseInt(percentRange.value) / 100;
                            targetW = img.width * (percentRange.value / 100);
                            targetH = img.height * (percentRange.value / 100);
                        } else {
                            if (checkRatio.checked) {
                                targetW = parseInt(inputWidth.value);
                                targetH = targetW / (img.width / img.height);
                            } else {
                                targetW = parseInt(inputWidth.value);
                                targetH = parseInt(inputHeight.value);
                            }
                        }

                        canvas.width = targetW;
                        canvas.height = targetH;
                        ctx.drawImage(img, 0, 0, targetW, targetH);
                        
                        canvas.toBlob((blob) => resolve(blob), file.type, 0.9);
                    };
                    img.onerror = reject;
                };
                reader.onerror = reject;
            });
        }
    </script>
</body>
</html>
